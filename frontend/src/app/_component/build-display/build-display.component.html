<button class="btn btn-primary mb-3" (click)="generateBuild()" [disabled]="loading">
  {{ loading ? 'Generating...' : 'Generate Build' }}
</button>

@if (error) {
  <div class="alert alert-danger">{{ error }}</div>
}

@if (build?.champion) {
<div class="mb-2">
  <h5 class="text-center mb-1">Champion</h5>
  <div class="d-flex justify-content-center"
       (dragover)="allowDrop($event)"
       (drop)="onDropChampion($event)">
    <div class="card text-center" style="width: 100px;" [appTooltip]="build?.champion?.name ?? ''">
      <img [src]="'http://localhost:8081/' + build?.champion?.imageUrl"
           class="card-img-top img-fluid"
           alt="{{build?.champion?.name}}"
           style="height: 60px; object-fit: contain;">
      <div class="card-body p-1">
        <small class="d-block text-truncate">{{ build?.champion?.name }}</small>
      </div>
    </div>
  </div>
</div>
}

@if (build?.items?.length) {
  <h5 class="text-center mb-1">Items</h5>

  <div class="d-flex flex-wrap justify-content-center">

    @for (item of build?.items; track item.id) {
      <div class="p-1" style="flex: 0 0 auto; width: 100px;"
           (dragover)="allowDrop($event)"
           (drop)="onDropItem($event, item)">
        <div class="card text-center" [appTooltip]="item.name">
          <img [src]="'http://localhost:8081/' + item.imageUrl"
               class="card-img-top img-fluid"
               alt="{{item.name}}"
               style="height: 50px; object-fit: contain;">
          <div class="card-body p-1">
            <small class="d-block text-truncate">{{ item.name }}</small>
          </div>
        </div>
      </div>
    }

    <div class="p-1" style="flex: 0 0 auto;">
      <i class="bi"
         [ngClass]="buildFavoriteId ? 'bi-heart-fill text-danger' : 'bi-heart text-danger'"
         (click)="toggleFavorite()"
         style="cursor: pointer; font-size: 3rem;"></i>
    </div>

  </div>
}

